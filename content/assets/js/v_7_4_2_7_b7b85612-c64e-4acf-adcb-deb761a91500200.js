import{m as c,p as d}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150023.js";import{u}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150019.js";import{I as r,j as a,_ as g}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150010.js";import{d as E}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500155.js";import{V as f}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150018.js";import{a as i}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915004.js";async function b(t){const{user:s}=c.getState(),{label:n}=d.getState(),e=u.getState().language;if(t.length===0)return r({type:"Error",message:e.nenhumCtsSelecionado,position:"top-right"});const p=s.estado?t:t.slice(0,5);s.estado||r({type:"Info",message:e.limite_de_5,position:"top-right"});const m={contacts:p.filter(o=>!o.id.includes("@lid")).map(o=>({id:o.id.replace("@c.us","").replace("@g.us",""),name:o.name})),labelName:n.name};try{const o=await fetch(`${f.backend_utils}api/XLSX/envioEmMassa`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!o.ok)throw new Error("Erro ao enviar dados para o servidor");const l=await o.json();E(l.XLSXbase64,`${n.name}_EnvioEmMassa.xlsx`)}catch(o){console.error("Erro ao enviar dados para o servidor:",o),r({type:"Error",message:e.erroEnvio,position:"top-right"})}}const h=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500201.js")),[]));function j({list:t}){return a.jsx(i.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(h,{list:t})})}export{b as E,j as I};
