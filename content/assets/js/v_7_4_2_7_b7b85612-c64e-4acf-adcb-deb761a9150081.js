import{j as e,_ as o,a9 as I,T as k,am as P,aE as F,an as w,s as N,I as L}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150010.js";import{a as s}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915004.js";import{n as O,p as R,at as S,x as U,a as B,o as D,au as V,an as W}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150023.js";import{u as q,b as H}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150019.js";import{u as z}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150021.js";import{W as f}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150018.js";import{b as G}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150060.js";import{e as J}from"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150041.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915008.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915005.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915007.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915006.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915009.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915002.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a915003.js";import"./v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a9150047.js";const K=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500137.js")),[]));function Q(){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(K,{})})}const X=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500138.js")),[]));function Y(){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(X,{})})}const Z=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500139.js")),[]));function $({setUserLabels:r,userLabels:d}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Z,{setUserLabels:r,userLabels:d})})}const ee=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500140.js")),[]));function ae(){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ee,{})})}const se=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500141.js")),[]));function te({userId:r}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(se,{userId:r})})}const ne=s.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_7_b7b85612-c64e-4acf-adcb-deb761a91500142.js")),[]));function re({userId:r}){return e.jsx(s.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ne,{userId:r})})}function ve(){var j,h;const{open:r}=O(),{label:d}=R(),{pinChat:v,isPin:x}=S(),i=(h=(j=U().activeChat)==null?void 0:j.id)==null?void 0:h.user,{language:t}=q(),{getUserAbasTam:y}=B(),{isBusiness:g}=H(),{open:l}=D(),A=z(a=>a.close),E=z(a=>a.open),[c,b]=s.useState(null);s.useEffect(()=>{g&&(async()=>{try{const n=await f.Labels("getAllLabels"),u=await f.Utils("getContato",i);if(u==="undefined")return;const C=u.labels.map(p=>n.find(m=>m.hexColor&&m.id===p)).filter(Boolean).map(({id:p,name:m,hexColor:_})=>({id:p,name:m,color:_,hexColor:_}));b(C)}catch(n){console.error(t.erroAoBuscarLabels,n)}})()},[i]);const T=async()=>{await W("clear_message")!==!0&&(await f.Msg("showClearMsg")?L({type:"Success",message:t.asMensagensApagasForamRecuperadas,position:"top-right"}):L({type:"Error",message:t.nenhumaMensagemApagadaFoiRecuperada,position:"top-right"}))},M=[{id:0,name:t.iniciarUmFluxoParaEsteContato,icon:e.jsx(I,{size:20}),count:null,func:a=>{l(e.jsx(re,{userId:i}),{placement:"bottom"},a.target,15)}},{id:1,name:x()?t.desafixarChat:t.fixarChat,icon:e.jsx(k,{className:x()?"!text-[var(--wds-teal-500)]":"",size:20}),count:null,func:()=>v()},{id:2,name:t.exibirMensagensApagadasRecente,icon:e.jsx(V,{size:20,strokeWidth:"1.8"}),count:null,func:()=>T()},{id:3,name:t.traducaoComIA,icon:e.jsx(J,{size:20}),count:null,func:()=>r(e.jsx(Q,{}))},{id:4,name:t.userTabs,icon:e.jsx(P,{size:20}),count:y(i),func:a=>{l(e.jsx(Y,{}),{placement:"bottom"},a.target,15)}},{id:5,name:t.tags,icon:c&&c.length>0?e.jsx("div",{className:"flex",children:c.map((a,n)=>e.jsx("span",{style:n!==0?{marginLeft:"-1rem"}:null,children:e.jsx(F,{size:24,style:{color:a.color}})},n))}):e.jsx(w,{size:20}),count:null,func:a=>{l(e.jsx($,{setUserLabels:b,userLabels:c}),{placement:"bottom"},a.target.parentNode.parentNode,15)},renderInNotBussines:!g},{id:6,name:t.transferirAtendimento,icon:e.jsx(N,{size:20}),count:null,func:a=>{l(e.jsx(ae,{}),{placement:"bottom"},a.target,15)}},{id:7,name:t.fimAtendimento_encerrar,icon:e.jsx(G,{size:20}),count:null,func:a=>{l(e.jsx(te,{userId:i}),{placement:"bottom"},a.target,15)}}];return e.jsx("ul",{children:e.jsx("div",{className:"flex items-center gap-2 mr-1",children:M.map((a,n)=>!a.renderInNotBussines&&e.jsxs("li",{onMouseEnter:u=>E(a.name,{placement:"bottom"},u.target),onMouseLeave:A,children:[(a.count??0)>=1&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute -top-1 -right-2",children:e.jsx("span",{className:"abaTam border border-[#ffffff52] border-solid rounded-full p-1 shadow-lg text-[12px] bg-[var(--primaria)] ",children:e.jsx("em",{className:"text-[#ffffffd4] font-bold",children:a.count})})})}),e.jsx("div",{onClick:a.func,children:e.jsx("div",{"tag-ref":"btn",className:"menu-item pulse cursor-pointer rounded-[10px] p-2 bg-[var(--menu-bar-item-background-active)] hover:!bg-[var(--primaria)] hover:!text-[var(--letra)] "+(d.cor_primaria?"text-[var(--primaria)]":"text-[var(--panel-header-icon)]"),children:a.icon})},a.id)]},n))})})}export{ve as default};
